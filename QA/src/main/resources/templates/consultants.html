<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Manage Consultants</title>
    <link rel="stylesheet" type="text/css" th:href="@{/css/style.css}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="form-container">
        <header class="form-header">
            <a href="/" class="back-button">&lt;</a>
            <h1>Manage Consultants</h1>
        </header>

        <div class="card">
            <h2>Add New Consultant</h2>
            <form th:action="@{/consultants/save}" th:object="${consultant}" method="post" class="add-consultant-form">
                <input type="text" th:field="*{name}" placeholder="New consultant name..." required />
                <input type="text" th:field="*{projectTag}" placeholder="Project Tag..." />
                <select th:field="*{company}" required>
                    <option value="">-- Select Company --</option>
                    <option th:each="comp : ${allCompanies}"
                            th:value="${comp.id}"
                            th:text="${comp.name}"></option>
                </select>
                <button type="submit">Add Consultant</button>
            </form>
        </div>

        <div class="card">
            <h2>Existing Consultants</h2>
            <table>
                <thead>
                    <tr>
                        <th>Consultant Name</th>
                        <th>Company</th>
                        <th>Project Tag</th>
                        <th>Actions</th> </tr>
                </thead>
                <tbody>
                    <tr th:each="cons : ${consultants}">
                        <td th:text="${cons.name}"></td>
                        <td th:if="${cons.company != null}" th:text="${cons.company.name}"></td>
                        <td th:text="${cons.projectTag}"></td>
                        <td>
                            <a th:href="@{/consultants/delete/{id}(id=${cons.id})}"
                               class="delete-button"
                               onclick="return confirm('Are you sure you want to delete this consultant?');">
                                <i class="fas fa-trash"></i> </a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</body>
</html>